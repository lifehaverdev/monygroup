<!DOCTYPE html>
<html>
    <head>
        
        <title>TubbyStation</title>
        <link rel="shortcut icon" type="image/png" width="32px" href="public/favicon-32x32.png"/>
        <link rel="icon" type="image/png" sizes="16x16" href="public/favicon-16x16.png"/>
        <link rel="style" href="tubby.css"/>
        <script src="./tubbyHat.js"></script>
        <style type="text/css">
            /* updated */
            @font-face {
                font-family: 'TuttiFrutti';
                unicode-range: U+0-10FFFF;
                font-weight: normal;
                src: url('public/fonts/Handjet/Handjet-VariableFont_ELGR,ELSH,wght.ttf');
                }
        </style>
        <script src="https://unpkg.com/web3@1.10.0/dist/web3.min.js"></script>  
        
                <!-- frontend stuff -->
                <script>              
                    //Popup
                        function closePop(which) {
                            var pop;
                            switch(which){
                                case 1:
                                    pop = document.getElementById('pop');
                                    break;
                                case 2:
                                    pop = document.getElementById('pop2');
                                    break;
                                case 3:
                                    pop = document.getElementById('pop3');
                                    break;
                                default:
                                    pop = document.getElementById('pop1');
                                    break;
                            }
                            pop.innerHTML = '';
                            pop.style.display = 'none';
                        }
                        showPop = (which) => {
                            var pop;
                            switch(which){
                                case 1:
                                    pop = document.getElementById('pop');
                                    pop.innerHTML += '<div class="x" onclick="closePop(1)">x</div>'
                                    break;
                                case 2:
                                    pop = document.getElementById('pop2');
                                    pop.innerHTML += '<div class="x" onclick="closePop(2)">x</div>'
                                    break;
                                case 3:
                                    pop = document.getElementById('pop3');
                                    // pop.innerHTML += '<div class="x" onclick="closePop(3)">x</div>'
                                    break;
                            }
                            pop.style.display = 'block';
                        }
                        popPop = (innerHTML,which) => {
                            var pop;
                            switch(which){
                                case 1:
                                    pop = document.getElementById('pop');
                                    pop.innerHTML = '<div class="x" onclick="closePop(1)">x</div>'+innerHTML;
                                    break;
                                case 2:
                                    pop = document.getElementById('pop2');
                                    pop.innerHTML = '<div class="x" onclick="closePop(2)">x</div>'+innerHTML;
                                    break;
                                case 3:
                                    pop = document.getElementById('pop3');
                                    pop.innerHTML = '<div class="x" onclick="closePop(3)">x</div>'+innerHTML;
                            } 
                        }
                    //Get
                        function get(id) {
                           return document.getElementById(id);
                        }
                    //TX Receipt
                    function gibReceipt(tx,desc) {
        
                            var innerHTML = 
                                `
                                <img id="cashier" src="public/tubby/tuntunz.gif"/>
                                <div id="receipt">
                                    <h3 class="center">Congratulations! You have just ${desc}</h3>
                                    <p class="center">You can see your transaction here:</p>
                                    <a class="center white-link" target="_blank" href="https://etherscan.io/tx/${tx}">${tx}</a>
                                </div>
                                `;
                            popPop(innerHTML,3);
                            showPop(3);
                        }
                    //About
                    function about() {
                        document.getElementById('master').innerHTML = 
                        `<div id="root" style="display:block;">
                                    <div style="display:block;">
                                        <div h-case="4" old-position="fixed" v-case="6 parentBounds=List((2,1,Rectangle(0.0,0.0,1024.0,768.0)))" style="left:0.0px;position:absolute;top:calc(0.0px - 0.0px);width:100%;z-index:999999;background-color:rgb(255, 236, 245);display:block;height:100px;">
                                            <div style="min-height:100px;display:flex;flex-direction:row;height:100%;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;max-height:100%;width:90%;">
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:0%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;"></div>
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:16.33%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;">
                                                    <a href="https://monygroup.net" target="_blank" style="color:rgb(255, 255, 255);font-size:30px;cursor:pointer;display:block;margin-bottom:50px;margin-left:auto;margin-right:auto;margin-top:50px;text-align:center;text-decoration-color:rgb(255, 255, 255);text-decoration-line:none;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                        <img alt="tubby station logo" loading="lazy" src="public/tubby/catlogo.png" style="min-height:39.5625px;min-width:35px;left:50%;position:absolute;top:50%;transform:matrix(1, 0, 0, 1, -17.5, -20);width:35px;"/>
                                                    </a>
                                                </div>
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:0%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;"></div>
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:0%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;"></div>
                                                <div style="align-items:center;column-gap:40px;display:flex;flex-basis:33.32%;flex-wrap:wrap;justify-content:center;row-gap:40px;">
                                                    <a href="" style="color:rgb(255, 127, 191);font-size:20px;cursor:pointer;opacity:0.5;text-decoration-color:rgb(255, 127, 191);text-decoration-line:none;text-decoration-style:solid;text-decoration-thickness:auto;">Home</a>
                                                    <a aria-current="page" style="color:rgb(255, 127, 191);font-size:20px;cursor:pointer;margin-top:5px;opacity:1;text-decoration-color:rgb(255, 127, 191);text-decoration-line:none;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                        About<span style="border-bottom-color:rgb(255, 127, 191);border-bottom-style:solid;border-bottom-width:4px;display:block;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;padding-top:3px;"></span>
                                                    </a>
                                                </div>
                                                <div style="display:block;flex-basis:4.16%;"></div>
                                                <div style="display:block;flex-basis:25%;position:relative;">
                                                    <button style="color:rgb(0, 0, 0);font-family:Arial;font-size:13.3333px;font-stretch:100%;font-style:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-weight:400;text-rendering:auto;-webkit-writing-mode:horizontal-tb;align-items:flex-start;background-color:rgb(255, 127, 191);border-bottom-color:rgb(0, 0, 0);border-bottom-left-radius:50px;border-bottom-right-radius:50px;border-bottom-style:none;border-bottom-width:0px;border-image-outset:0;border-image-repeat:stretch;border-image-slice:100%;border-image-source:none;border-image-width:1;border-left-color:rgb(0, 0, 0);border-left-style:none;border-left-width:0px;border-right-color:rgb(0, 0, 0);border-right-style:none;border-right-width:0px;border-top-color:rgb(0, 0, 0);border-top-left-radius:50px;border-top-right-radius:50px;border-top-style:none;border-top-width:0px;box-sizing:border-box;cursor:pointer;display:inline-block;height:40px;left:50%;letter-spacing:normal;line-height:normal;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;outline-color:rgb(0, 0, 0);outline-style:none;outline-width:0px;padding-bottom:1px;padding-left:6px;padding-right:6px;padding-top:1px;position:absolute;text-align:center;text-indent:0px;text-shadow:none;text-transform:none;top:50%;transform:matrix(1, 0, 0, 1, -104, -20);width:90%;word-spacing:0px;appearance:auto;">
                                                        <div style="color:rgb(255, 255, 255);font-family:TuttiFrutti;font-size:18px;display:block;margin-block-end:0px;margin-block-start:0px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;padding-top:5px;">Connect</div>
                                                    </button>
                                                </div>
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:16.33%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;">
                                                    <a href="" rel="noreferrer" target="_blank" style="color:rgb(0, 0, 238);cursor:pointer;text-decoration-color:rgb(0, 0, 238);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                        <img alt="Discord Invite" loading="lazy" src="public/tubby/discord.svg" style="min-height:11.5781px;min-width:16px;cursor:pointer;margin-right:12px;opacity:0.6;width:16px;"/>
                                                    </a>
                                                    <a href="https://twitter.com/miladystation" rel="noreferrer" target="_blank" style="color:rgb(0, 0, 238);cursor:pointer;text-decoration-color:rgb(0, 0, 238);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                        <img alt="Twitter Invite" loading="lazy" src="public/tubby/twitter.svg" style="min-height:13.1406px;min-width:16px;cursor:pointer;margin-right:12px;opacity:0.6;width:16px;"/>
                                                    </a>
                                                </div>
                                                <div style="display:block;"></div>
                                                <button type="button" style="color:rgb(255, 255, 255);font-family:TuttiFrutti;font-size:16px;font-stretch:100%;font-style:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-weight:300;text-rendering:auto;-webkit-writing-mode:horizontal-tb;align-items:flex-start;background-color:rgba(0, 0, 0, 0);border-bottom-color:rgb(255, 255, 255);border-bottom-style:none;border-bottom-width:0px;border-image-outset:0;border-image-repeat:stretch;border-image-slice:100%;border-image-source:none;border-image-width:1;border-left-color:rgb(255, 255, 255);border-left-style:none;border-left-width:0px;border-right-color:rgb(255, 255, 255);border-right-style:none;border-right-width:0px;border-top-color:rgb(255, 255, 255);border-top-style:none;border-top-width:0px;box-sizing:border-box;cursor:pointer;display:none;letter-spacing:normal;line-height:normal;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;overflow-x:visible;overflow-y:visible;padding-bottom:15px;padding-left:15px;padding-right:15px;padding-top:15px;text-align:center;text-indent:0px;text-shadow:none;text-transform:none;word-spacing:0px;appearance:auto;">
                                                    <span style="display:inline-block;height:31px;position:relative;width:50px;">
                                                        <span style="background-color:rgb(255, 127, 191);border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px;display:block;height:5px;margin-top:-2.5px;position:absolute;top:50%;width:50px;"></span>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                        <div style="display:block;">
                                            <div style="display:block;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:100px;max-width:1400px;position:relative;width:85%;">
                                                <div style="box-sizing:border-box;display:flex;flex-wrap:wrap;width:100%;">
                                                    <div style="box-sizing:border-box;display:block;flex-basis:16.6667%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:16.6667%;position:relative;">
                                                        <img alt="Stars" loading="lazy" src="public/tubby/starsI.png" style="min-height:154.188px;min-width:145.062px;display:block;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:60px;max-width:160px;width:100%;"/>
                                                    </div>
                                                    <div style="box-sizing:border-box;display:block;flex-basis:66.6667%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:66.6667%;">
                                                        <h1 style="color:rgb(255, 127, 191);font-size:80px;font-weight:400;display:block;margin-block-end:40px;margin-block-start:0px;margin-bottom:40px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;padding-top:100px;text-align:center;">About</h1>
                                                        <img alt="tubby station logo" loading="lazy" src="public/tubbystationpp.png" style="width: 90%; padding: 4%;"/>
                                                    </div>
                                                    <div style="box-sizing:border-box;display:block;flex-basis:16.6667%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:16.6667%;position:relative;">
                                                        <img alt="Stars" loading="lazy" src="public/tubby/starsII.png" style="min-height:103.922px;min-width:145.062px;display:block;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:60px;max-width:160px;width:100%;"/>
                                                    </div>
                                                </div>
                                                <div style="box-sizing:border-box;display:flex;flex-wrap:wrap;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;width:80%;">
                                                    <div style="box-sizing:border-box;display:block;flex-basis:58.3333%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:58.3333%;padding-bottom:16px;padding-left:16px;padding-right:16px;padding-top:16px;">
                                                        <h2 style="color:rgb(255, 127, 191);font-size:42px;font-weight:700;display:block;margin-block-end:34.86px;margin-block-start:34.86px;margin-inline-end:0px;margin-inline-start:0px;">The Collection</h2>
                                                        <div style="color:rgb(255, 186, 221);font-size:22px;display:block;margin-block-end:0px;margin-block-start:20px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:20px;">tubbystation is a collection of 365 miladystation trained stable diffusion textual inversion generated and hand-picked nfts on etherium.</div>
                                                        <div style="color:rgb(255, 186, 221);font-size:22px;display:block;margin-block-end:0px;margin-block-start:12px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:12px;">
                                                            art: <a href="https://archive.ph/o/Soo00/https://twitter.com/tubbyCollective" rel="noreferrer" target="_blank" style="color:rgb(255, 186, 221);cursor:pointer;text-decoration-color:rgb(255, 186, 221);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">@miladystation</a>
                                                        </div>
                                                        <div style="color:rgb(255, 186, 221);font-size:22px;display:block;margin-block-end:0px;margin-block-start:12px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:12px;">
                                                            code: <a href="https://archive.ph/o/Soo00/https://twitter.com/trolldart" rel="noreferrer" target="_blank" style="color:rgb(255, 186, 221);cursor:pointer;text-decoration-color:rgb(255, 186, 221);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">@miladystation</a>
                                                        </div>
                                                        <div style="color:rgb(255, 186, 221);font-size:22px;display:block;margin-block-end:0px;margin-block-start:12px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:12px;">
                                                            smart contract: <a href="https://archive.ph/o/Soo00/https://twitter.com/0xngmi" rel="noreferrer" target="_blank" style="color:rgb(255, 186, 221);cursor:pointer;text-decoration-color:rgb(255, 186, 221);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">@miladystation</a>
                                                        </div>
                                                    </div>
                                                    <div style="box-sizing:border-box;display:block;flex-basis:41.6667%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:41.6667%;padding-bottom:16px;padding-left:16px;padding-right:16px;padding-top:16px;">
                                                        <img alt="Tubby Cats Gif" loading="lazy"  src="public/tubby/tubbygif.gif" style="min-height:258.125px;min-width:258.125px;border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-top-left-radius:8px;border-top-right-radius:8px;filter:drop-shadow(rgb(255, 127, 191) 5px 5px 0px);width:100%;"/>
                                                    </div>
                                                </div>
                                                <div style="box-sizing:border-box;display:flex;flex-wrap:wrap;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;width:80%;">
                                                    <div style="box-sizing:border-box;display:block;flex-basis:100%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:100%;padding-bottom:16px;padding-left:16px;padding-right:16px;padding-top:16px;">
                                                        <h2 style="color:rgb(255, 127, 191);font-size:42px;font-weight:700;display:block;margin-block-end:34.86px;margin-block-start:34.86px;margin-inline-end:0px;margin-inline-start:0px;">creating tubbystation</h2>
                                                        <div style="color:rgb(255, 186, 221);font-size:22px;display:block;margin-block-end:0px;margin-block-start:0px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;">rather than creating from one of 120 various themed palettes, each tubbystation cat player character is generated completely randomly from the collection.</div>
                                                        <div style="color:rgb(255, 186, 221);font-size:22px;display:block;margin-block-end:0px;margin-block-start:20px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:20px;">tubbystation player character cats are not generated with individual trait rarity in mind. rarity is based on the themed gen palettes and which traits the AI was able to render properly.</div>
                                                        <div style="color:rgb(255, 186, 221);font-size:22px;display:block;margin-block-end:0px;margin-block-start:20px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:20px;">the collection also contains 56 one-of-ones, which are created by different artists on tubbycat team (Except Fatwell). each one-of-one has an attribute that displays the artist of each.</div>
                                                    </div>
                                                </div>
                                                <h1 style="color:rgb(255, 127, 191);font-size:80px;font-weight:400;display:block;margin-block-end:40px;margin-block-start:0px;margin-bottom:40px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;padding-top:100px;text-align:center;">The Team</h1>
                                                <div style="display:block;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;max-width:1400px;position:relative;width:85%;">
                                                    <div style="box-sizing:border-box;display:flex;flex-wrap:wrap;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;width:100%;">
                                                        <div style="box-sizing:border-box;display:block;flex-basis:33.3333%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:33.3333%;padding-bottom:8px;padding-left:8px;padding-right:8px;padding-top:8px;">
                                                            <div style="display:block;">
                                                                <a href="https://twitter.com/miladystation" rel="noreferrer" target="_blank" style="color:rgb(255, 255, 255);cursor:pointer;text-decoration-color:rgb(255, 255, 255);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                                    <div style="background-position:initial;background-repeat:initial;-webkit-background-clip:border-box;background-attachment:scroll;background-clip:border-box;background-color:rgb(255, 241, 248);background-image:none;background-origin:padding-box;background-size:auto;border-bottom-color:rgb(255, 127, 191);border-bottom-left-radius:15px;border-bottom-right-radius:15px;border-bottom-style:solid;border-bottom-width:2px;border-image-outset:0;border-image-repeat:stretch;border-image-slice:100%;border-image-source:none;border-image-width:1;border-left-color:rgb(255, 127, 191);border-left-style:solid;border-left-width:2px;border-right-color:rgb(255, 127, 191);border-right-style:solid;border-right-width:2px;border-top-color:rgb(255, 127, 191);border-top-left-radius:15px;border-top-right-radius:15px;border-top-style:solid;border-top-width:2px;box-shadow:rgb(255, 127, 191) 4px 4px 0px 0px;box-sizing:border-box;display:block;height:250px;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:30px;position:relative;top:0px;">
                                                                        <img alt="arthurt" loading="lazy" src="public/90.png" style="min-height:150px;min-width:150px;display:block;height:150px;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;"/>
                                                                        <div style="background-position:initial;background-repeat:initial;-webkit-background-clip:border-box;background-attachment:scroll;background-clip:border-box;background-color:rgb(255, 186, 221);background-image:none;background-origin:padding-box;background-size:auto;border-bottom-left-radius:13px;border-bottom-right-radius:13px;border-top-left-radius:0px;border-top-right-radius:0px;bottom:0px;display:block;height:100px;position:absolute;width:100%;">
                                                                            <div style="min-height:67px;display:block;left:50%;position:absolute;top:50%;transform:matrix(1, 0, 0, 1, -113.5, -33.5);width:100%;">
                                                                                <div style="color:rgb(255, 255, 255);font-size:10px;display:block;margin-block-end:5px;margin-block-start:0px;margin-bottom:5px;margin-inline-end:22.6719px;margin-inline-start:22.6562px;margin-left:auto;margin-right:auto;margin-top:0px;opacity:0.8;text-align:center;width:80%;">Project lead &amp; Producer &amp; Website Post-Authorship &amp; Smart Contract Developer &amp; Art Director &amp; tubby holder</div>
                                                                                <h2 style="color:rgb(255, 106, 180);font-size:16px;font-weight:300;display:block;margin-block-end:0px;margin-block-start:0px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;text-align:center;">@miladystation</h2>
                                                                                <div style="color:rgb(255, 255, 255);font-size:10px;display:block;margin-block-end:5px;margin-block-start:6px;margin-bottom:5px;margin-inline-end:22.6719px;margin-inline-start:22.6562px;margin-left:auto;margin-right:auto;margin-top:6px;text-align:center;width:80%;">Tubbystation would be a beautiful name for a baby boy</div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </a>
                                                            </div>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="display:block;height:140px;"></div>
                                        </div>
                                    </div>
                                </div>`
                    }
                </script>  
    </head>
    <body>
        <div id="pop" style="display:none;"></div>
        <div id="pop1" style="display:none;position:absolute;top:30%;left:30%;width:40%;background-color:aliceblue;color:blue;z-index:2;"></div>
                            <div class="body" id="master">
                                <div id="root" style="display:block;">
                                    <div style="display:block;">
                                        <div id="bar" h-case="4" old-position="fixed" v-case="6 parentBounds=List((2,1,Rectangle(0.0,0.0,1024.0,768.0)))" style="left:0.0px;position:absolute;top:calc(0.0px - 0.0px);width:100%;z-index:999999;background-color:rgb(255, 236, 245);display:block;height:100px;">
                                            <div style="min-height:100px;display:flex;flex-direction:row;height:100%;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;max-height:100%;width:90%;">
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:0%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;"></div>
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:16.33%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;">
                                                    <a href="https://monygroup.net" target="_blank" style="color:rgb(255, 255, 255);font-size:30px;cursor:pointer;display:block;margin-bottom:50px;margin-left:auto;margin-right:auto;margin-top:50px;text-align:center;text-decoration-color:rgb(255, 255, 255);text-decoration-line:none;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                        <img alt="tubby station logo" loading="lazy" src="public/tubby/catlogo.png" style="min-height:39.5625px;min-width:35px;left:50%;position:absolute;top:50%;transform:matrix(1, 0, 0, 1, -17.5, -20);width:35px;"/>
                                                    </a>
                                                </div>
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:0%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;"></div>
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:0%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;"></div>
                                                <div style="align-items:center;column-gap:40px;display:flex;flex-basis:33.32%;flex-wrap:wrap;justify-content:center;row-gap:40px;">
                                                    <a href="" style="color:rgb(255, 127, 191);font-size:20px;cursor:pointer;margin-top:5px;opacity:1;text-decoration-color:rgb(255, 127, 191);text-decoration-line:none;text-decoration-style:solid;text-decoration-thickness:auto;">Home<span style="border-bottom-color:rgb(255, 127, 191);border-bottom-style:solid;border-bottom-width:4px;display:block;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;padding-top:3px;"></span></a>
                                                    <a aria-current="page" onclick="about()" target="_blank" style="color:rgb(255, 127, 191);font-size:20px;cursor:pointer;opacity:0.5;text-decoration-color:rgb(255, 127, 191);text-decoration-line:none;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                        About
                                                    </a>
                                                </div>
                                                <div style="display:block;flex-basis:4.16%;"></div>
                                                <div style="display:block;flex-basis:25%;position:relative;">
                                                    <button id="connect-button" onclick="connectWallet()" style="color:rgb(0, 0, 0);font-family:Arial;font-size:13.3333px;font-stretch:100%;font-style:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-weight:400;text-rendering:auto;align-items:flex-start;background-color:rgb(255, 127, 191);border-bottom-color:rgb(0, 0, 0);border-bottom-left-radius:50px;border-bottom-right-radius:50px;border-bottom-style:none;border-bottom-width:0px;border-image-outset:0;border-image-repeat:stretch;border-image-slice:100%;border-image-source:none;border-image-width:1;border-left-color:rgb(0, 0, 0);border-left-style:none;border-left-width:0px;border-right-color:rgb(0, 0, 0);border-right-style:none;border-right-width:0px;border-top-color:rgb(0, 0, 0);border-top-left-radius:50px;border-top-right-radius:50px;border-top-style:none;border-top-width:0px;box-sizing:border-box;cursor:pointer;display:inline-block;height:40px;left:50%;letter-spacing:normal;line-height:normal;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;outline-color:rgb(0, 0, 0);outline-style:none;outline-width:0px;padding-bottom:1px;padding-left:6px;padding-right:6px;padding-top:1px;position:absolute;text-align:center;text-indent:0px;text-shadow:none;text-transform:none;top:50%;transform:matrix(1, 0, 0, 1, -104, -20);width:90%;word-spacing:0px;appearance:auto;">
                                                        <div id="connectbutt-text" style="color:rgb(255, 255, 255);font-family:TuttiFrutti;font-size:18px;display:block;margin-block-end:0px;margin-block-start:0px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;padding-top:5px;">Connect</div>
                                                    </button>
                                                </div>
                                                <div style="min-height:100px;align-items:center;display:flex;flex-basis:16.33%;flex-wrap:wrap;height:100%;justify-content:center;position:relative;">
                                                    <a href="" rel="noreferrer" target="_blank" style="color:rgb(0, 0, 238);cursor:pointer;text-decoration-color:rgb(0, 0, 238);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                        <img alt="Discord Invite" loading="lazy" src="public/tubby/discord.svg" style="min-height:11.5781px;min-width:16px;cursor:pointer;margin-right:12px;opacity:0.6;width:16px;"/>
                                                    </a>
                                                    <a href="https://twitter.com/miladystation" rel="noreferrer" target="_blank" style="color:rgb(0, 0, 238);cursor:pointer;text-decoration-color:rgb(0, 0, 238);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">
                                                        <img alt="Twitter Invite" loading="lazy" src="public/tubby/twitter.svg" style="min-height:13.1406px;min-width:16px;cursor:pointer;margin-right:12px;opacity:0.6;width:16px;"/>
                                                    </a>
                                                </div>
                                                <div style="display:block;"></div>
                                                <button type="button" style="color:rgb(255, 255, 255);font-family:TuttiFrutti;font-size:16px;font-stretch:100%;font-style:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-weight:300;text-rendering:auto;align-items:flex-start;background-color:rgba(0, 0, 0, 0);border-bottom-color:rgb(255, 255, 255);border-bottom-style:none;border-bottom-width:0px;border-image-outset:0;border-image-repeat:stretch;border-image-slice:100%;border-image-source:none;border-image-width:1;border-left-color:rgb(255, 255, 255);border-left-style:none;border-left-width:0px;border-right-color:rgb(255, 255, 255);border-right-style:none;border-right-width:0px;border-top-color:rgb(255, 255, 255);border-top-style:none;border-top-width:0px;box-sizing:border-box;cursor:pointer;display:none;letter-spacing:normal;line-height:normal;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;overflow-x:visible;overflow-y:visible;padding-bottom:15px;padding-left:15px;padding-right:15px;padding-top:15px;text-align:center;text-indent:0px;text-shadow:none;text-transform:none;word-spacing:0px;appearance:auto;">
                                                    <span style="display:inline-block;height:31px;position:relative;width:50px;">
                                                        <span style="background-color:rgb(255, 127, 191);border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top-left-radius:4px;border-top-right-radius:4px;display:block;height:5px;margin-top:-2.5px;position:absolute;top:50%;width:50px;"></span>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <div style="display:block;">
                                            <div id="main" style="margin-top:20vh;">
                                                <div style="box-sizing:border-box;display:flex;flex-wrap:wrap;width:100%;">
                                                    <div style="box-sizing:border-box;display:block;flex-basis:16.6667%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:16.6667%;position:relative;">
                                                        <img alt="Stars" loading="lazy" src="public/tubby/starsI.png" style="min-height:154.188px;min-width:145.062px;display:block;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:60px;max-width:160px;width:100%;"/>
                                                    </div>
                                                    <div style="box-sizing:border-box;display:block;flex-basis:66.6667%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:66.6667%;">
                                                        <img alt="tubby station logo" loading="lazy" src="public/tubbystationpp.png" style="width: 90%; padding: 4%;"/>
                                                    </div>
                                                    <div style="box-sizing:border-box;display:block;flex-basis:16.6667%;flex-grow:0;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:0px;max-width:16.6667%;position:relative;">
                                                        <img alt="Stars" loading="lazy" src="public/tubby/starsII.png" style="min-height:103.922px;min-width:145.062px;display:block;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:60px;max-width:160px;width:100%;"/>
                                                    </div>
                                                </div>
                                                <div style="color:rgb(255, 186, 221);font-size:20px;display:block;margin-block-end:0px;margin-block-start:0px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;text-align: center;">365 NFTS ON THE ETHERIUM BLOCKCHAIN.</div>
                                                <div id="count" style="color:rgb(255, 186, 221);font-size:20px;display:block;margin-block-end:0px;margin-block-start:0px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;text-align: center;"></div>
                                                <div style="text-align:center;color:rgb(174, 172, 173);font-size:24px;display:block;line-height:18px;margin-block-end:0px;margin-block-start:20px;margin-bottom:22px;margin-inline-end:52.2344px;margin-inline-start:52.2188px;margin-left:auto;margin-right:auto;margin-top:20px;width:85%;">Derived From <a href="https://archive.li/o/bkyud/https://twitter.com/tubbyCollective" rel="noreferrer" target="_blank" style="color:rgb(174, 172, 173);cursor:pointer;text-decoration-color:rgb(174, 172, 173);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">@tubbyCollective</a> by <a href="https://archive.li/o/bkyud/https://twitter.com/trolldart" rel="noreferrer" target="_blank" style="color:rgb(174, 172, 173);cursor:pointer;text-decoration-color:rgb(174, 172, 173);text-decoration-line:underline;text-decoration-style:solid;text-decoration-thickness:auto;">@miladystation </a></div>
                                                <div style="text-align:center;color:rgb(174, 172, 173);font-size:24px;display:block;line-height:18px;margin-block-end:0px;margin-block-start:20px;margin-bottom:22px;margin-inline-end:52.2344px;margin-inline-start:52.2188px;margin-left:auto;margin-right:auto;margin-top:20px;width:85%;">2 Free for Tubby, Milady and MiladyStation Holders</div>
                                                <div style="text-align:center;color:rgb(174, 172, 173);font-size:24px;display:block;line-height:18px;margin-block-end:0px;margin-block-start:20px;margin-bottom:22px;margin-inline-end:52.2344px;margin-inline-start:52.2188px;margin-left:auto;margin-right:auto;margin-top:20px;width:85%;">0.01ETH each</div>
                                                <button id="mint-button" onclick="mintFlow()" style="color:rgb(0, 0, 0);font-family:Arial;font-size:13.3333px;font-stretch:100%;font-style:normal;font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-weight:400;text-rendering:auto;align-items:flex-start;background-color:rgb(255, 127, 191);border-bottom-color:rgb(0, 0, 0);border-bottom-left-radius:50px;border-bottom-right-radius:50px;border-bottom-style:none;border-bottom-width:0px;border-image-outset:0;border-image-repeat:stretch;border-image-slice:100%;border-image-source:none;border-image-width:1;border-left-color:rgb(0, 0, 0);border-left-style:none;border-left-width:0px;border-right-color:rgb(0, 0, 0);border-right-style:none;border-right-width:0px;border-top-color:rgb(0, 0, 0);border-top-left-radius:50px;border-top-right-radius:50px;border-top-style:none;border-top-width:0px;box-sizing:border-box;cursor:pointer;display:inline-block;height:45px;letter-spacing:normal;line-height:normal;margin-bottom:0px;margin-left:auto;margin-right:auto;margin-top:0px;outline-color:rgb(0, 0, 0);outline-style:none;outline-width:0px;padding-bottom:1px;padding-left:6px;padding-right:6px;padding-top:1px;text-align:center;text-indent:0px;text-shadow:none;text-transform:none;width:100%;word-spacing:0px;appearance:auto;"><div id="mintbutt-text" style="color:rgb(255, 255, 255);font-family:TuttiFrutti;font-size:22px;font-weight:300;display:block;margin-block-end:0px;margin-block-start:0px;margin-bottom:0px;margin-inline-end:0px;margin-inline-start:0px;margin-left:auto;margin-right:auto;margin-top:0px;padding-top:5px;">mint</button>
                                                <div style="height:400px;">
                                                    
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        
           
                       
        
        <!-- web3 -->
        <!-- tubbystation nft contract -->
        <script>

            const web3 = new Web3(Web3.givenProvider); 
            const max = 365
            
            

            var accounts = [];
            var friend;
            var totalSup;
            var connected = true;
            var chainScanPre = 'https://etherscan.io/tx/'

                                // Test
            //const tubbyStationAddress = '0x779e22e0B46144Be3c141A038a948326276DD1a6';
            //prod
            const tubbyStationAddress = '0x8Dddc7710A40e138d0b6b637e84114494280d69f';

            // The ABI of the smart contract
            const tubbyStationContractABI = 
            [{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ApprovalCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"ApprovalQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"BalanceQueryForZeroAddress","type":"error"},{"inputs":[],"name":"InvalidQueryRange","type":"error"},{"inputs":[],"name":"MintERC2309QuantityExceedsLimit","type":"error"},{"inputs":[],"name":"MintToZeroAddress","type":"error"},{"inputs":[],"name":"MintZeroQuantity","type":"error"},{"inputs":[],"name":"NewOwnerIsZeroAddress","type":"error"},{"inputs":[{"internalType":"string","name":"err","type":"string"}],"name":"NoDice","type":"error"},{"inputs":[],"name":"NoHandoverRequest","type":"error"},{"inputs":[{"internalType":"string","name":"err","type":"string"}],"name":"NotEnough","type":"error"},{"inputs":[],"name":"OwnerQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"OwnershipNotInitializedForExtraData","type":"error"},{"inputs":[{"internalType":"string","name":"err","type":"string"}],"name":"TooMany","type":"error"},{"inputs":[],"name":"TransferCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"TransferFromIncorrectOwner","type":"error"},{"inputs":[],"name":"TransferToNonERC721ReceiverImplementer","type":"error"},{"inputs":[],"name":"TransferToZeroAddress","type":"error"},{"inputs":[],"name":"URIQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"Unauthorized","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toTokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"ConsecutiveTransfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pendingOwner","type":"address"}],"name":"OwnershipHandoverCanceled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pendingOwner","type":"address"}],"name":"OwnershipHandoverRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cancelOwnershipHandover","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"pendingOwner","type":"address"}],"name":"completeOwnershipHandover","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"newRoot","type":"bytes32"},{"internalType":"string","name":"newUri","type":"string"}],"name":"configure","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"explicitOwnershipOf","outputs":[{"components":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint64","name":"startTimestamp","type":"uint64"},{"internalType":"bool","name":"burned","type":"bool"},{"internalType":"uint24","name":"extraData","type":"uint24"}],"internalType":"struct IERC721A.TokenOwnership","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"}],"name":"explicitOwnershipsOf","outputs":[{"components":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint64","name":"startTimestamp","type":"uint64"},{"internalType":"bool","name":"burned","type":"bool"},{"internalType":"uint24","name":"extraData","type":"uint24"}],"internalType":"struct IERC721A.TokenOwnership[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"flipSaleState","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32[]","name":"proof","type":"bytes32[]"}],"name":"freeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"freeMinted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"result","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pendingOwner","type":"address"}],"name":"ownershipHandoverExpiresAt","outputs":[{"internalType":"uint256","name":"result","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"requestOwnershipHandover","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"saleOn","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"tokensOfOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"stop","type":"uint256"}],"name":"tokensOfOwnerIn","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"uri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}];

            const tubby = new web3.eth.Contract(tubbyStationContractABI, tubbyStationAddress);


            async function getProp() {
                
                saleOn= await tubby.methods.saleOn().call();
                totalSup = await tubby.methods.totalSupply().call();
                

                //console.log(totalSup,"tokens");
                //console.log("saleOn",saleOn);
                get('count').innerHTML = `Only ${max - totalSup} left!`
                if(!saleOn){get('mintbutt-text').innerHTML = 'sale not open';}
                
            }
            getProp();
            //check friends
                //erc721 logic
                makeNFT721 = async(collection) => {
                    var nftAddress = collection;
                    //this is miladycola tbh
                    var nft721ABI = 
                    [{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ApprovalCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"ApprovalQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"BalanceQueryForZeroAddress","type":"error"},{"inputs":[],"name":"InvalidQueryRange","type":"error"},{"inputs":[],"name":"MintERC2309QuantityExceedsLimit","type":"error"},{"inputs":[],"name":"MintToZeroAddress","type":"error"},{"inputs":[],"name":"MintZeroQuantity","type":"error"},{"inputs":[],"name":"NewOwnerIsZeroAddress","type":"error"},{"inputs":[],"name":"NoHandoverRequest","type":"error"},{"inputs":[],"name":"OwnerQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"OwnershipNotInitializedForExtraData","type":"error"},{"inputs":[],"name":"TransferCallerNotOwnerNorApproved","type":"error"},{"inputs":[],"name":"TransferFromIncorrectOwner","type":"error"},{"inputs":[],"name":"TransferToNonERC721ReceiverImplementer","type":"error"},{"inputs":[],"name":"TransferToZeroAddress","type":"error"},{"inputs":[],"name":"URIQueryForNonexistentToken","type":"error"},{"inputs":[],"name":"Unauthorized","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"toTokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"}],"name":"ConsecutiveTransfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pendingOwner","type":"address"}],"name":"OwnershipHandoverCanceled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"pendingOwner","type":"address"}],"name":"OwnershipHandoverRequested","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"IPFSURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tubbyPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bulkPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cancelOwnershipHandover","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"bottle","type":"uint256"},{"internalType":"uint256","name":"friend","type":"uint256"},{"internalType":"uint256","name":"bulk","type":"uint256"}],"name":"changePrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"pendingOwner","type":"address"}],"name":"completeOwnershipHandover","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"explicitOwnershipOf","outputs":[{"components":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint64","name":"startTimestamp","type":"uint64"},{"internalType":"bool","name":"burned","type":"bool"},{"internalType":"uint24","name":"extraData","type":"uint24"}],"internalType":"struct IERC721A.TokenOwnership","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"}],"name":"explicitOwnershipsOf","outputs":[{"components":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"uint64","name":"startTimestamp","type":"uint64"},{"internalType":"bool","name":"burned","type":"bool"},{"internalType":"uint24","name":"extraData","type":"uint24"}],"internalType":"struct IERC721A.TokenOwnership[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"flipSaleState","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"holder","type":"address"}],"name":"friendCheck","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"friendPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"numberOfTokens","type":"uint256"}],"name":"mintFriend","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"numberOfTokens","type":"uint256"}],"name":"mintNew","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"result","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"pendingOwner","type":"address"}],"name":"ownershipHandoverExpiresAt","outputs":[{"internalType":"uint256","name":"result","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ownershipHandoverValidFor","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"requestOwnershipHandover","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"s_MAXMILADYCOLA","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_saleIsActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"baseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"tokensOfOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"stop","type":"uint256"}],"name":"tokensOfOwnerIn","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]; //
                    var nft = await new web3.eth.Contract(nft721ABI,nftAddress);
                    return nft;
                }
                check721Balance = async(collection) => {
                    var nft = await makeNFT721(collection);
                    let owned = 0;
                    try {
                        owned = await nft.methods.balanceOf(accounts[0]).call();
                        //console.log('what is owned',owned);
                    } catch(err) {
                        console.log('check approval 721 err',err);
                    }
                    return owned;
                }
                
                displayHoldings = async() => {

                }
                //cosmetics
            function errorTell(message) {
                alert(`Something went wrong, here is what the chain said when we checked: ${message}`);
            }
            function buyBuyBuy(tx) {
                    //clear cart and hide
                    //clearPop('pop3');
                    //
                    //hide("selection")
                    
                    var txPop = get('pop1');
                    txPop.innerHTML += 
                        `
                        <div class="x" onclick="closePop();">x</div>
                        `;
                    txPop.innerHTML += 
                        `
                        <img src="public/tubby/tuntunz.gif"/>
                        <div id="receipt">
                            <h3 class="center">Congratulations! You have just minted TubbyStation Player Character(s)</h3>
                            <p class="center">You can see your transaction here:</p>
                            <a class="center white-link" target="_blank" href="${chainScanPre}/${tx}">${tx}</a>
                            <p>It will be in your wallet shortly</p>
                        </div>
                        `;
                        show('pop1');
                    relo();
                }
            function hide(id) {
                let el = document.getElementById(id);
                el.style.display = "none";
            }
            function show(id) {
                let el = document.getElementById(id);
                el.style.display = "block";
            }
            
            // Connect to the MetaMask wallet
            connectWallet = async() => {
                //console.log('you clicked connect')
                let connected = false;
                try {
                    accounts = await web3.eth.requestAccounts().then()
                    connected = true;
                } catch(err) {
                    errorTell(err.message);
                }   
                if(connected){
                    var connectbutt = document.getElementById('connectbutt-text');
                    connectbutt.innerText = 'Connected';

                    var networkId = await web3.eth.net.getId();
                    //console.log(networkId);
                    if (networkId !== 1) {
                    // Show an error message or take other appropriate action
                    alert('change your network to main ethereum')
                    }
                    checkWallet();
                }
            }
            // See if qualify for discount AND if approveAll icola
            checkWallet = async() => {
                //console.log('whats in your wallet');
                test = false;
                friend = await checkFriend();
                
                if(await checkHolder() > 0){
                    displayHoldings();
                }
            }
            checkFriend = async() => {
                    const leaves = tubbyHat.map(x => web3.utils.soliditySha3(x));
                    const tree = new MerkleTree(leaves, web3.utils.soliditySha3, { sort: true });
                    const root = tree.getHexRoot();
                    var accountHash = web3.utils.soliditySha3(accounts[0]);
                    var proof = tree.getHexProof(accountHash);
                    friend = tree.verify(proof,accountHash,root)
                    console.log('is we on da list',friend);
                    var freeMinted = await tubby.methods.freeMinted(accounts[0]).call();
                    if(friend && !freeMinted){
                        get('mintbutt-text').innerHTML = "Mint Free";
                    } else if (friend && freeMinted){
                        get('mintbutt-text').innerHTML = "Mint";
                    }
                    return friend;
                }
            checkHolder = async() => {
                let hold = 0;
                hold += parseInt(await check721Balance(tubbyStationAddress));
                console.log("checkHolder",hold);
                return hold;
                }
            relo = async() => {
                //console.log('reloading');
                get('mint-button').disabled = true;
                get('mintbutt-text').innerHTML = "Please wait 1 moment";
                setTimeout(function() {
                    //console.log('reloaded');
                    checkWallet();
                    get('mint-button').disabled = false;
                    get('mintbutt-text').innerHTML = "Mint";
                },60000)
            }
                //contract interaction
            //
            mintFlow = async() => {
                if(!connected){
                    alert("please connect your wallet using the  button");
                    exit
                }
                //console.log('minting, is frined?',friend);
                //check if free minted
                var freeMinted = await tubby.methods.freeMinted(accounts[0]).call();
                //console.log('free minted in mint flow',freeMinted);
                if(!freeMinted && friend){
                    var accountHash = web3.utils.soliditySha3(accounts[0]);
                    var proof = tree.getHexProof(accountHash);
                    try {
                        tubby.methods.freeMint(proof).send({
                            from: accounts[0],
                            value: 0
                        })
                        .on('transactionHash', function(hash){
                                    buyBuyBuy(hash)
                        });
                    } catch(err) {
                        console.log('freemint error',err);
                    }
                } else if (freeMinted || !friend){
                    var amount = Number(window.prompt('How many TubbyStations do you want?'));
                    if(amount > 6){
                        alert(`You may only mint up to 8 for your wallet`)
                        return;
                    }
                    try {
                        tubby.methods.mint(amount).send({
                            from: accounts[0],
                            value: 10000000000000000*amount
                        })
                        .on('transactionHash', function(hash){
                            buyBuyBuy(hash)
                        });
                    } catch(err) {
                        console.log('mint error',err);
                    }
                }
                
            }
            
        </script>
        <!-- //animation -->
        <script>
            //animation
            function welcome() {
                //show("boot");
                var image = get("logo");
                var opacity = 0;
                var intervalID = setInterval(function() {
                    if (opacity < 1) {
                    opacity += 0.01;
                    image.style.opacity = opacity;
                    } else {
                    clearInterval(intervalID);
                    setTimeout(function() {
                        var intervalID2 = setInterval(function() {
                        if (opacity > 0) {
                            opacity -= 0.01;
                            image.style.opacity = opacity;
                        } else {
                            clearInterval(intervalID2);
                            
                        }
                        }, 4);
                    }, 1000);
                    }
                }, 2);
            }
        </script>
        <!-- merkle -->
        <script src="https://cdn.jsdelivr.net/npm/merkletreejs@latest/merkletree.js"></script>
        <script>
           
            const leaves = tubbyHat.map(x => web3.utils.soliditySha3(x));

            const tree = new MerkleTree(leaves, web3.utils.soliditySha3, { sort: true });
            
            const root = tree.getHexRoot();

            //console.log('root: ',root);

            
        </script>
    </body>
</html>
